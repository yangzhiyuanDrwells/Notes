<font size = 4 face = "黑体">




<img src="https://img-blog.csdnimg.cn/20201230141454646.png">

#### 进程控制

进程控制的主要功能是对系统中的所有进程实施有效的管理，它具有创建新进程、撤销已有进程、实现进程状态转换等功能。


#### 进程控制的实现过程

操作系统对进程的组织是通过一系列队列组织的，因此进程的控制就是通过各种状态的进程队列和进程PCB的进程状态标志位来控制的

<img src="https://img-blog.csdnimg.cn/20201230134557388.png">

如果进程状态切换使得所处的对应的进程队列发生改变，但是进程的PCB进程状态标志位没有发生改变，则会使得系统对进程的控制和进程的组织发生混乱。因此进程控制需要原语的来实现 ^[原语的特点是执行期间不允许中断，只能一气呵成。
]

---

#### 原语实现进程控制

不可被中断的操作称为原子操作，原语 ^[原语运行在核心态]采用“关中断指令”和“开中断指令”实现


在进程状态转化之前会先实现一个关中断指令，一切外部中断信号都会被忽略看，直到进程状态转化完成再执行开中断指令，外部中断才能被处理。通过开中断和关中断就可以实现对进程控制的原子操作。


<font color ="#0000FF">开/关中断指令的权限非常大，只允许在核心态下执行的特权指令 ^[如果用户进程可以随意的使用这两个指令，用户进程就可以一直霸占出产出资源是特别危险的]</font>



##### 进程创建原语

<img src="https://img-blog.csdnimg.cn/20201230140831979.png">

##### 进程终止原语

<img src="https://img-blog.csdnimg.cn/2020123014092536.png">


##### 进程阻塞唤醒原语

<img src="https://img-blog.csdnimg.cn/20201230141210494.png">


##### 进程切换原语

<img src="https://img-blog.csdnimg.cn/20201230141354652.png">


###### 进程控制会导致进程状态的转换。无论哪个原语，要做的无非三类事情:

- 更新PCB中的信息（如修改进程状态标志、将运行环境保存到PCB、从PCB恢复运行环境)
- - 所有的进程控制原语一定都会修改进程状态标志
- - 剥夺当前运行进程的CPU使用权必然需要保存其运行环境
- - 某进程开始运行前必然要恢复期运行环境

- 将PCB插入合适的队列
- 分配/回收资源





</font>